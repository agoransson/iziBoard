<!--
  iziBoard
  Copyright (C) 2014  Andreas GÃ¶ransson

  This program is free software; you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation; either version 2 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License along
  with this program; if not, write to the Free Software Foundation, Inc.,
  51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 -->
<li class="dropdown page-type-selection">
  <a class="dropdown-toggle">
    {{ page.type }}
  </a>
  <ul class="dropdown-menu">
    <li ng-repeat="type in pageTypes">
      <a ng-click="setPageType(type)">{{ type }}</a>
    </li>
  </ul>
</li>

<div class="row">
  <div class="col-xs-12">
    <input class="admin-input h1" type="text" ng-model="page.heading" placeholder="add your headline here" />
    <h1 class="fix-heading"><small><span class="glyphicon glyphicon-plus-sign" ng-click="openNewsModal()"></span></small></h1>
    <div class="edit-toolbox" ng-show="showHeadingTools" ng-mouseenter="showHeadingTools = true" ng-mouseleave="showHeadingTools = false">
      <span class="glyphicon glyphicon-ok" ng-click="savePage(page)"></span>
    </div>
  </div>

  <div class="col-xs-12 visible-md visible-lg news-container">
    <div ng-repeat="n in news" class="news-item">
      <h4>{{ n.title }} <small><span class="glyphicon glyphicon-minus-sign" ng-click="deleteNews(n)"></span></small> <small><span class="glyphicon glyphicon-question-sign" ng-click="openNewsModal(n)"></span></small></h4>
      <p>{{ n.body }}</p>
      <p>{{ n.created_at | brDateFilter | date:"yyyy-MM-dd" }}</p>
      <hr>
    </div>
  </div>
</div>


<script id="newsModalContent.html" type="text/ng-template">
  <div class="modal-header">
    <h3>Edit news item</h3>
  </div>
  <div class="modal-body">
    <input class="form-control" type="text" placeholder="title" ng-model="newsitem.title">
    <textarea class="form-control" rows="3" placeholder="body" ng-model="newsitem.body"></textarea>
  </div>
  <div class="modal-footer">
    <div class="btn-group">
      <button type="button" class="btn btn-primary" ng-click="newsModalOk()">OK</button>
      <button type="button" class="btn btn-warning" ng-click="newsModalCancel()">Cancel</button>
    </div>
  </div>
</script>