<!--
  iziBoard
  Copyright (C) 2014  Andreas Göransson

  This program is free software; you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation; either version 2 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License along
  with this program; if not, write to the Free Software Foundation, Inc.,
  51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 -->
<div class="row">
  <div class="col-xs-12">
    <h1 ng-model="page.heading">{{ page.heading }}</h1>
  </div>
</div>

<div class="row" ng-controller="MarkerController">

  <div class="col-xs-12 col-md-6" ng-controller="MapCtrl">

  <div ng-if="showMap">

      <google-map id="mymap" 
              center="map.center" 
              zoom="map.zoom" 
              draggable="true"                                    
              mark-click="false"
              events="map.events">
              <markers>
                  <marker ng-repeat="marker in page.markers | filter: search" coords="marker">
                  </marker>
              </markers>
      </google-map>

  </div>.
    
  </div>

  <div class="col-xs-12 col-md-6">
    <h2>Hitta närmaste affär här</h2>
    <input type="text" class="form-control" placeholder="sök" ng-model="search">

    <div class="marker-item" ng-repeat="marker in page.markers | filter:search">
      <h3 ng-model="marker.title">{{ marker.title }}</h3>
      <p ng-model="marker.description">{{ marker.description }}</p>
    </div>

  </div>
</div>