<!--
  iziBoard
  Copyright (C) 2014  Andreas GÃ¶ransson

  This program is free software; you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation; either version 2 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License along
  with this program; if not, write to the Free Software Foundation, Inc.,
  51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 -->
<div class="row">
  <div class="col-md-8 col-xs-12" ng-controller="ImageController">
    <div ng-if="(+page.images.length > 0)">
      <img class="img-responsive" ng-src="uploads/{{ page.images[page.images.length-1].filename }}" />
    </div>

    <div ng-if="(+page.images.length <= 0)">
      <img class="img-rounded img-responsive" ph-img="800x400" ph-txt="No image found"/>
    </div>
  </div>
  <div class="col-md-4 visible-md visible-lg" ng-controller="NewsController">
    <h2>Nyheter</h2>
    <div ng-repeat="n in news | limitTo: quantity | orderBy:orderProp:orderType" class="news-item">
      <h4>{{ n.title }}</h4>
      <p>{{ n.body | limitTo:100}}...</p>
      <p>{{ n.created_at | brDateFilter | date:"yyyy-MM-dd" }}</p>
      <hr>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-xs-12">
    <h1 ng-model="page.heading">{{ page.heading }}</h1>
  </div>
  <div class="col-md-{{ 12 / page.texts.length }}" ng-repeat="text in page.texts" ng-controller="TextController" ng-if="(+page.texts.length > 0)">
    <p ng-model="text.description">{{ text.description }}</p>
    <p ng-if="(+text.description.length <= 0)" ng-model="text.description" ph-txt="{{ numCombined }}"></p>
  </div>
</div>